# Super Wings ç¶²é æ¨¡æ“¬éŠæˆ²å°ˆæ¡ˆ - å®Œæ•´å¯¦ä½œè¨ˆç•«

## é€²åº¦ç¸½è¦½ (æ›´æ–°: 2025-12-17)

| éšæ®µ | ç‹€æ…‹ | èªªæ˜ |
|------|------|------|
| **Phase 1** | âœ… å®Œæˆ | è§’è‰²è³‡è¨Šæ•´ç†èˆ‡é©—è­‰ |
| **Phase 2** | âœ… å®Œæˆ | åœ–ç‰‡ç”Ÿæˆç³»çµ± (1,168å¼µ + 241Ã—8å¹€å‹•ç•«) |
| **Phase 3** | âœ… å¤§éƒ¨åˆ†å®Œæˆ | Web éŠæˆ²æ ¸å¿ƒæ¶æ§‹ |
| **Phase 4** | ğŸ”„ é€²è¡Œä¸­ | æ‰“ç£¨èˆ‡å„ªåŒ– |
| **Phase 5** | ğŸ”„ é€²è¡Œä¸­ | è¦–è¦ºå„ªåŒ–èˆ‡éŠæˆ²æ©Ÿåˆ¶ |

### æœ€æ–°å®Œæˆé …ç›®
- âœ… AI å¾Œç«¯ç³»çµ± (LLM + RAG + Agents)
- âœ… AI æ™ºæ…§åœ–ç‰‡é¸æ“‡ API
- âœ… Canvas é€Ÿåº¦ç·šèƒŒæ™¯æ•ˆæœ
- âœ… Canvas ç™¼å…‰æ“´æ•£æ•ˆæœ
- âœ… è®Šèº«å‹•ç•« (241å¹€ @ 30fps = 8ç§’)
- âœ… ThemeManager ä¸»é¡Œç®¡ç†å™¨ (æ·±è‰²/æ·ºè‰²åˆ‡æ›)
- âœ… æ·±è‰²ä¸»é¡Œ CSS è®Šæ•¸
- ğŸ”„ StatisticsTracker çµ±è¨ˆè¿½è¹¤å™¨

### Phase 5 å¾…å®Œæˆé …ç›®
- â³ SaveManager å¤šå­˜æª”ç®¡ç† (3 æ§½)
- â³ AchievementSystem æˆå°±ç³»çµ± (23 å€‹æˆå°±)
- â³ æˆå°±è§£é–å½ˆçª—æ•ˆæœ
- â³ Achievements æˆå°±ç•«é¢
- â³ Save/Load å­˜è®€æª”ç•«é¢
- â³ Statistics çµ±è¨ˆç•«é¢
- â³ PageTransition é é¢è½‰å ´
- â³ ParticleSystem ç²’å­ç³»çµ±
- â³ AudioManager åˆæˆ BGM

### å…¶ä»–å¾…å®Œæˆé …ç›®
- â³ å…§å®¹æ“´å…… (æ›´å¤šä»»å‹™ã€åœ°é»ã€äº‹ä»¶)
- â³ å‰ç«¯ AI æ•´åˆ
- â³ æ•ˆèƒ½å„ªåŒ–
- â³ éƒ¨ç½²

---

## å°ˆæ¡ˆæ¦‚è¿°

**ç›®æ¨™**: å»ºç«‹ä¸€å€‹å®Œæ•´çš„ Super Wings æ¨¡æ“¬éŠæˆ²ï¼Œæ¨¡æ“¬å‹•ç•«ä¸­çš„ä»»å‹™æ´¾é£ç³»çµ±

**éŠæˆ²é¡å‹**: å®Œæ•´çš„æ¨¡æ“¬éŠæˆ²ï¼ŒåŒ…å«ï¼š
- è§’è‰²æ´¾é£ç®¡ç†ç³»çµ±
- è³‡æºç®¡ç†ï¼ˆé‡‘éŒ¢ã€ç‡ƒæ–™ã€ä¿®ç†åŒ…ç­‰ï¼‰
- ä»»å‹™ç³»çµ±ï¼ˆä¸–ç•Œå„åœ°çš„å°æœ‹å‹éœ€è¦å¹«åŠ©ï¼‰
- å®Œæ•´çš„éŠæˆ²æµç¨‹å‹•ç•«ï¼ˆæ´¾é£ â†’ é£›è¡Œ â†’ è®Šèº« â†’ è§£æ±ºå•é¡Œ â†’ è¿”å›ï¼‰

**æŠ€è¡“æ£§**: ç´” HTML/CSS/JavaScript (2D web éŠæˆ²)

**å°ˆæ¡ˆä½ç½®**: `~/web-projects/super-wings-simulator/`

**æ™‚ç¨‹**: 8 é€±å®Œæˆï¼Œå„ªå…ˆå®Œæˆåœ–ç‰‡åº«æº–å‚™ï¼ˆ1-2é€±å…§é–‹å§‹ï¼‰

---

## å·²æœ‰è³‡æº

### LoRA æ¨¡å‹
- **8 å€‹è§’è‰²å·²å®Œæˆè¨“ç·´**: Jett, Jerome, Donnie, Chase, Flip, Todd, Paul, Bello
- **Checkpoints**: æ¯å€‹è§’è‰² 5 å€‹ (epoch 3, 6, 9, 12, 15)
- **æœ€ä½³æ¨¡å‹**: epoch 15
- **ä½ç½®**: `/mnt/data/training/lora/super-wings/{character}_identity/`

### è¨“ç·´è³‡æ–™
- **æ¯å€‹è§’è‰²**: 200-241 å¼µé«˜å“è³ªåˆ†å‰²åœ–ç‰‡
- **å¢å¼·å¾Œ**: 400 å¼µ augmented åœ–ç‰‡
- **Caption å“è³ª**: è©³ç´°çš„ 3D å‹•ç•«é¢¨æ ¼æè¿°
- **ä½ç½®**: `/mnt/data/datasets/general/super-wings/lora_data/characters/`

### æ–‡æª”è³‡æº
- **è§’è‰²æ–‡æª”**: `/mnt/c/ai_projects/3d-animation-lora-pipeline/docs/projects/super-wings/character/character_*.md` (8 å€‹è§’è‰²)
- **ç³»åˆ—æŒ‡å—**: `/mnt/c/ai_projects/3d-animation-lora-pipeline/docs/projects/super-wings/super_wings_series.md`
- **Prompt æ¨¡æ¿**: `/mnt/c/ai_projects/3d-animation-lora-pipeline/configs/evaluation/super_wings_comprehensive_test.yaml`

---

## é—œéµç™¼ç¾èˆ‡éœ€è¦ä¿®æ­£çš„å•é¡Œ

### âœ… å·²é©—è­‰çš„è§’è‰²è³‡è¨Š

å¾å¯¦éš› caption å’Œå®˜æ–¹æ–‡æª”é©—è­‰ï¼š

| è§’è‰² | æ­£ç¢ºé¡è‰² | é—œéµç‰¹å¾µ | å€‹æ€§ |
|------|---------|---------|------|
| **Jett** | ç´…è‰²+ç™½è‰² | é»ƒè‰²èºæ—‹æ§³ï¼Œ4å€‹ä¿¡è™Ÿç‡ˆ | ç†±æƒ…ã€æ¨‚æ–¼åŠ©äºº |
| **Flip** | ç´…è‰²+ç™½è‰²æ¢ç´‹ | **è—è‰²å¸½å­é…é»ƒè‰²é‚Šæ¡†** â­ | é‹å‹•å°ˆå®¶ã€å……æ»¿æ´»åŠ› |
| **Jerome** | è—è‰² | æˆ°é¬¥æ©Ÿé€ å‹ï¼Œé»ƒè‰²é–ƒé›»è£é£¾ | ç¶“é©—è±å¯Œã€æ™ºæ…§ |
| **Donnie** | é»ƒè‰²+è—è‰² | å·¥å…·å°ˆå®¶ï¼ŒCanadair é€ å‹ | æ©Ÿæ¢°å°ˆå®¶ã€å¯¦ç”¨ |
| **Chase** | æ·±è—è‰² | 3æ¢ç´…è‰²é–ƒé›»æ¢ç´‹ | é–“è«œã€è®Šå½¢èƒ½åŠ› |
| **Todd** | è¤è‰² | é»ƒè‰²å®‰å…¨å¸½ï¼Œé‘½é ­é¼»å­ | æŒ–æ˜å°ˆå®¶ |
| **Paul** | è—è‰²+ç™½è‰² | è­¦å¯Ÿæ¨™è¨˜ï¼Œè­¦ç¬› | è­¦å¯Ÿã€åš´è¬¹ |
| **Bello** | é»‘ç™½æ¢ç´‹ | æ–‘é¦¬/å‹•ç‰©æ¢ç´‹ | å‹•ç‰©å°ˆå®¶ |

### âš ï¸ éœ€è¦ä¿®æ­£çš„é…ç½®æ–‡ä»¶

**æª”æ¡ˆ**: `/mnt/c/ai_projects/3d-animation-lora-pipeline/configs/training/super_wings_caption_config.yaml`

**å•é¡Œ**: Flip çš„é¡è‰²éŒ¯èª¤
```yaml
# éŒ¯èª¤ (ç•¶å‰)
flip:
  colors: "bright green body, yellow accents"

# æ­£ç¢º (æ‡‰ä¿®æ­£ç‚º)
flip:
  colors: "red body with white stripes, blue cap with yellow trim"
```

**å…¶ä»–éœ€è¦æª¢æŸ¥çš„é…ç½®æ–‡ä»¶**:
- ç¢ºèªæ‰€æœ‰è§’è‰²çš„é¡è‰²æè¿°èˆ‡å®˜æ–¹è³‡æ–™ä¸€è‡´
- æ›´æ–° evaluation config åŒ…å«æ‰€æœ‰ 8 å€‹è§’è‰²ï¼ˆç›®å‰åªæœ‰ 3 å€‹ï¼‰

---

## å¯¦ä½œè¨ˆç•« - å››å¤§éšæ®µ

## Phase 1: è§’è‰²è³‡è¨Šæ•´ç†èˆ‡é©—è­‰ (ç¬¬ 1 é€±)

### ç›®æ¨™
å®Œæ•´å¯©æŸ¥å’Œçµ„ç¹”æ‰€æœ‰è§’è‰²è³‡è¨Šï¼Œå»ºç«‹çµ±ä¸€çš„è³‡æ–™åº«

### ä»»å‹™æ¸…å–®

#### 1.1 å¯©æŸ¥ç¾æœ‰æ–‡æª”
- [ ] é–±è®€æ‰€æœ‰ 8 å€‹è§’è‰²çš„ character_*.md æ–‡æª”
- [ ] é©—è­‰æ¯å€‹è§’è‰²çš„é¡è‰²ã€ç‰¹å¾µã€å€‹æ€§æè¿°
- [ ] ç‰¹åˆ¥ç¢ºèª Flip çš„è—è‰²å¸½å­ç´°ç¯€
- [ ] å¾è¨“ç·´ captions ä¸­æå–é¡å¤–çš„è¦–è¦ºç´°ç¯€

#### 1.2 å»ºç«‹çµ±ä¸€è§’è‰²è³‡æ–™åº«
**æª”æ¡ˆ**: `/mnt/c/ai_projects/3d-animation-lora-pipeline/configs/characters/super_wings_characters.json`

**çµæ§‹**:
```json
{
  "characters": {
    "jett": {
      "name": "Jett",
      "role": "ä¸»è§’ã€é€è²¨å°ˆå®¶",
      "colors": {
        "primary": "red",
        "secondary": "white",
        "accent": "yellow propeller",
        "hex": {
          "red": "#E53935",
          "white": "#F5F5F5",
          "yellow": "#FFD600"
        }
      },
      "features": {
        "vehicle": "small jet plane, 4 signal lights on cheeks and wings",
        "robot": "compact proportions, friendly expression",
        "unique": "yellow propeller, two blue eyes"
      },
      "personality": "enthusiastic, helpful, optimistic, energetic",
      "abilities": "fast delivery, problem-solving",
      "stats": {
        "speed": 9,
        "reliability": 95,
        "specialization": "delivery"
      },
      "lora": {
        "path": "/mnt/data/training/lora/super-wings/jett_identity/jett_epoch15.safetensors",
        "weight": 0.9
      }
    },
    "flip": {
      "name": "Flip",
      "role": "é‹å‹•å°ˆå®¶",
      "colors": {
        "primary": "red",
        "secondary": "white stripes",
        "accent": "blue cap with yellow trim",
        "hex": {
          "red": "#E53935",
          "white": "#F5F5F5",
          "cap_blue": "#1E5AA8",
          "cap_yellow": "#F2C300"
        }
      },
      "features": {
        "vehicle": "sporty red plane with white stripes",
        "robot": "athletic proportions, wearing blue and yellow cap",
        "unique": "blue cap with symbol similar to Jett's, sports theme"
      },
      "personality": "energetic, competitive, sports-loving, admires Jett",
      "abilities": "sports challenges, athletic moves",
      "stats": {
        "speed": 8,
        "reliability": 90,
        "specialization": "sports"
      },
      "lora": {
        "path": "/mnt/data/training/lora/super-wings/flip_identity/flip_epoch15.safetensors",
        "weight": 0.9
      }
    }
    // ... å…¶é¤˜ 6 å€‹è§’è‰²
  },
  "world_info": {
    "hub": "World Airport",
    "mission_types": ["delivery", "rescue", "sports", "construction", "police", "animal_care"],
    "style": "toy-like CGI, glossy paint, 3D animation"
  }
}
```

#### 1.3 æ›´æ–°é…ç½®æ–‡ä»¶
- [ ] ä¿®æ­£ `super_wings_caption_config.yaml` ä¸­ Flip çš„é¡è‰²
- [ ] æ“´å±• `super_wings_comprehensive_test.yaml` åŒ…å«æ‰€æœ‰ 8 å€‹è§’è‰²
- [ ] é©—è­‰æ‰€æœ‰ LoRA é…ç½®æ–‡ä»¶çš„è§’è‰²æè¿°ä¸€è‡´æ€§

#### 1.4 å»ºç«‹äººé¡å¯è®€çš„æŒ‡å—
**æª”æ¡ˆ**: `/mnt/c/ai_projects/3d-animation-lora-pipeline/docs/super_wings/character_database.md`

åŒ…å«ï¼š
- æ‰€æœ‰è§’è‰²çš„å®Œæ•´æè¿°
- è§’è‰²é—œä¿‚åœ–
- èƒ½åŠ›å°ç…§è¡¨
- å®˜æ–¹è³‡æ–™ä¾†æºå¼•ç”¨

### äº¤ä»˜ç‰©
- âœ… `super_wings_characters.json` - å®Œæ•´çš„è§’è‰²è³‡æ–™åº«
- âœ… æ›´æ–°çš„é…ç½®æ–‡ä»¶ï¼ˆæ‰€æœ‰é¡è‰²æ­£ç¢ºï¼‰
- âœ… `character_database.md` - äººé¡å¯è®€æŒ‡å—
- âœ… é©—è­‰å ±å‘Šï¼ˆåˆ—å‡ºæ‰€æœ‰æª¢æŸ¥éçš„è³‡æ–™ä¾†æºï¼‰

---

## Phase 2: åœ–ç‰‡ç”Ÿæˆç³»çµ± (ç¬¬ 1-3 é€±)

### ç›®æ¨™
å»ºç«‹å®Œæ•´çš„åœ–ç‰‡ç”Ÿæˆç³»çµ±ï¼Œç”Ÿæˆç´„ 200-300 å¼µæ ¸å¿ƒéŠæˆ²ç´ æ

### 2.1 åœ–ç‰‡éœ€æ±‚è¦åŠƒ

#### æ ¸å¿ƒåœ–ç‰‡é¡å‹

**A. è§’è‰²è‚–åƒ** (8è§’è‰² Ã— 8è®ŠåŒ– = 64å¼µ)
- æ­£é¢è¦–è§’ (front view)
- å››åˆ†ä¹‹ä¸‰è¦–è§’ (three-quarter view)
- å´é¢è¦–è§’ (side profile)
- ç‰¹å¯«è‚–åƒ (portrait closeup)
- é£›è¡Œå§¿å‹¢ (flying pose)
- ç«™ç«‹å§¿å‹¢ (standing pose)
- è®Šèº«ç‹€æ…‹ (transformation)
- UI åœ–ç¤º (icon, 512Ã—512)

**B. è§’è‰²ç‹€æ…‹** (8è§’è‰² Ã— 6ç‹€æ…‹ = 48å¼µ)
- å¾…å‘½ (idle/standby)
- é£›è¡Œä¸­ (in-flight)
- é™è½ (landing)
- æ…¶ç¥æˆåŠŸ (celebrating)
- è§£æ±ºå•é¡Œ (working/helping)
- ç–²æ†Š/ä¼‘æ¯ (tired/resting)

**C. è§’è‰²è¡¨æƒ…ç‰¹å¯«** (8è§’è‰² Ã— 6è¡¨æƒ… = 48å¼µ)
- é–‹å¿ƒå¾®ç¬‘ (happy smile)
- èˆˆå¥® (excited)
- é©šè¨ (surprised)
- è‡ªä¿¡ (confident)
- å°ˆæ³¨ (focused)
- å‹å¥½ (friendly)

**D. å ´æ™¯èƒŒæ™¯** (15å€‹ä¸–ç•Œåœ°é»)
- ä¸–ç•Œæ©Ÿå ´åŸºåœ° (World Airport hub)
- äºæ´²åŸå¸‚ (Asian city)
- æ­æ´²å°é® (European town)
- éæ´²è‰åŸ (African savanna)
- åŒ—æ¥µ (Arctic)
- ç†±å¸¶å³¶å¶¼ (Tropical island)
- æ²™æ¼ ç¶ æ´² (Desert oasis)
- ç¾åœ‹å¤§åŸå¸‚ (American metropolis)
- å—ç¾é›¨æ— (South American rainforest)
- æ¾³æ´²å…§é™¸ (Australian outback)
- è—å¤©ç™½é›² (Blue sky with clouds)
- æ—¥è½å¤©ç©º (Sunset sky)
- å¤œç©ºæ˜Ÿæ˜Ÿ (Night sky with stars)
- è·‘é“ (Runway)
- æ©Ÿåº«å…§éƒ¨ (Hangar interior)

**E. UI å…ƒç´ ** (ç´„30å¼µ)
- ä»»å‹™é¡å‹åœ–ç¤º (6ç¨®)
- è³‡æºåœ–ç¤º (ç‡ƒæ–™ã€é‡‘éŒ¢ã€ä¿®ç†åŒ…ã€åŠ é€ŸåŒ…)
- æŒ‰éˆ•èˆ‡ä»‹é¢å…ƒç´ 
- çç›ƒ/æˆå°±åœ–ç¤º
- é€²åº¦æ¢å…ƒç´ 

**ç¸½è¨ˆ**: ~205 å¼µæ ¸å¿ƒåœ–ç‰‡

### 2.2 Prompt æ¨¡æ¿ç³»çµ±

**ä½ç½®**: `/mnt/c/ai_projects/3d-animation-lora-pipeline/prompts/super_wings_game/`

**çµæ§‹**:
```
prompts/super_wings_game/
â”œâ”€â”€ character_portraits.json      # è§’è‰²è‚–åƒæ¨¡æ¿
â”œâ”€â”€ character_states.json         # è§’è‰²ç‹€æ…‹æ¨¡æ¿
â”œâ”€â”€ character_expressions.json    # è¡¨æƒ…æ¨¡æ¿
â”œâ”€â”€ backgrounds.json              # èƒŒæ™¯æ¨¡æ¿
â”œâ”€â”€ ui_elements.json              # UI å…ƒç´ æ¨¡æ¿
â””â”€â”€ shared_settings.json          # å…±ç”¨è¨­å®š (negative prompts, åƒæ•¸)
```

**æ¨¡æ¿ç¯„ä¾‹** (`character_portraits.json`):
```json
{
  "templates": {
    "front_view": {
      "prompt": "{character}, solo Super Wings character, {colors}, front view facing camera, symmetrical composition, standing upright, neutral pleasant expression, clean studio background, even lighting, 3d animated robot aircraft, exactly two blue eyes, {personality}, {features}, professional character model sheet quality, perfect symmetry, high quality 3d render",
      "negative_prompt": "{shared_negative}",
      "width": 1024,
      "height": 1024,
      "steps": 40,
      "cfg_scale": 8.0,
      "lora_weight": 0.9
    },
    "three_quarter_view": {
      "prompt": "{character}, three-quarter angle view, {colors} Super Wings character, 45-degree angle showing front and side, friendly expression, dynamic yet stable pose, studio background, three-point lighting, 3d mechanical aircraft, exactly two blue eyes, {personality}, {features}, classic portrait angle, professional composition, Pixar quality render",
      "negative_prompt": "{shared_negative}",
      "width": 1024,
      "height": 1024,
      "steps": 40,
      "cfg_scale": 8.0,
      "lora_weight": 0.9
    }
    // ... å…¶ä»–è¦–è§’
  },
  "shared_settings": {
    "sampler": "DPM++ 2M Karras",
    "base_model": "sd_xl_base_1.0.safetensors"
  }
}
```

**å…±ç”¨ Negative Prompt** (`shared_settings.json`):
```json
{
  "negative_prompt_base": "human, person, people, boy, girl, man, woman, child, humanoid, human face, human body, realistic human, multiple characters, two characters, group, crowd, duo, extra eyes, three eyes, four eyes, multiple eyes, extra limbs, wrong colors, incorrect colors, color swap, mismatched colors, blurry, low quality, worst quality, bad quality, lowres, distorted, deformed, disfigured, mutated, malformed, ugly, amateur, draft, unfinished, bad anatomy, bad proportions, jpeg artifacts, watermark, text, signature, 2d, anime style, cartoon illustration, painting, drawing, photographic, photo, photograph, real life, cropped, cut off, frame, border, noise, grainy, chromatic aberration, multiple views, character sheet, reference sheet"
}
```

### 2.3 æ‰¹æ¬¡ç”Ÿæˆè…³æœ¬

**æª”æ¡ˆ**: `/mnt/c/ai_projects/3d-animation-lora-pipeline/scripts/batch/generate_super_wings_game_assets.py`

**åŠŸèƒ½**:
1. è¼‰å…¥è§’è‰²è³‡æ–™åº« (`super_wings_characters.json`)
2. è¼‰å…¥ prompt æ¨¡æ¿
3. ç‚ºæ¯å€‹è§’è‰² Ã— æ¯å€‹æ¨¡æ¿ç”Ÿæˆ prompt
4. æ‰¹æ¬¡èª¿ç”¨ SDXL ç”Ÿæˆåœ–ç‰‡
5. è‡ªå‹•çµ„ç¹”è¼¸å‡ºåˆ°æ­£ç¢ºç›®éŒ„
6. ç”Ÿæˆ metadata è¨˜éŒ„æ¯å¼µåœ–ç‰‡çš„åƒæ•¸

**æ ¸å¿ƒé‚è¼¯**:
```python
def generate_character_portraits(character_data, templates, output_dir):
    """
    ç‚ºå–®ä¸€è§’è‰²ç”Ÿæˆæ‰€æœ‰è‚–åƒè®ŠåŒ–
    """
    character_name = character_data['name']
    colors = character_data['colors']
    personality = character_data['personality']
    features = character_data['features']
    lora_path = character_data['lora']['path']
    lora_weight = character_data['lora']['weight']

    for template_name, template in templates.items():
        # å¡«å……æ¨¡æ¿è®Šæ•¸
        prompt = template['prompt'].format(
            character=character_name.lower(),
            colors=colors['primary'] + " and " + colors['secondary'],
            personality=personality,
            features=features['unique']
        )

        # ç”Ÿæˆåœ–ç‰‡
        image = generate_sdxl_image(
            prompt=prompt,
            negative_prompt=template['negative_prompt'],
            lora_path=lora_path,
            lora_weight=lora_weight,
            width=template['width'],
            height=template['height'],
            steps=template['steps'],
            cfg_scale=template['cfg_scale'],
            seed=42  # å›ºå®š seed ç¢ºä¿å¯é‡ç¾æ€§
        )

        # å„²å­˜
        output_path = output_dir / character_name.lower() / f"{template_name}.png"
        save_image(image, output_path)

        # è¨˜éŒ„ metadata
        save_metadata(output_path, {
            'character': character_name,
            'template': template_name,
            'prompt': prompt,
            'lora': lora_path,
            'generated_at': datetime.now().isoformat()
        })
```

**ä½¿ç”¨æ–¹å¼**:
```bash
conda run -n ai_env python scripts/batch/generate_super_wings_game_assets.py \
  --character-db configs/characters/super_wings_characters.json \
  --templates prompts/super_wings_game/ \
  --output-dir ~/web-projects/super-wings-simulator/assets/images/ \
  --category portraits \
  --characters jett,flip,jerome  # æˆ– "all"
```

### 2.4 åœ–ç‰‡è¼¸å‡ºçµ„ç¹”

**ä½ç½®**: `~/web-projects/super-wings-simulator/assets/images/`

**çµæ§‹**:
```
~/web-projects/super-wings-simulator/assets/images/
â”œâ”€â”€ characters/
â”‚   â”œâ”€â”€ jett/
â”‚   â”‚   â”œâ”€â”€ portraits/
â”‚   â”‚   â”‚   â”œâ”€â”€ front_view.png
â”‚   â”‚   â”‚   â”œâ”€â”€ three_quarter_view.png
â”‚   â”‚   â”‚   â”œâ”€â”€ side_profile.png
â”‚   â”‚   â”‚   â”œâ”€â”€ portrait_closeup.png
â”‚   â”‚   â”‚   â”œâ”€â”€ flying_pose.png
â”‚   â”‚   â”‚   â”œâ”€â”€ standing_pose.png
â”‚   â”‚   â”‚   â”œâ”€â”€ transformation.png
â”‚   â”‚   â”‚   â””â”€â”€ icon.png (512x512)
â”‚   â”‚   â”œâ”€â”€ states/
â”‚   â”‚   â”‚   â”œâ”€â”€ idle.png
â”‚   â”‚   â”‚   â”œâ”€â”€ in_flight.png
â”‚   â”‚   â”‚   â”œâ”€â”€ landing.png
â”‚   â”‚   â”‚   â”œâ”€â”€ celebrating.png
â”‚   â”‚   â”‚   â”œâ”€â”€ working.png
â”‚   â”‚   â”‚   â””â”€â”€ tired.png
â”‚   â”‚   â”œâ”€â”€ expressions/
â”‚   â”‚   â”‚   â”œâ”€â”€ happy.png
â”‚   â”‚   â”‚   â”œâ”€â”€ excited.png
â”‚   â”‚   â”‚   â”œâ”€â”€ surprised.png
â”‚   â”‚   â”‚   â”œâ”€â”€ confident.png
â”‚   â”‚   â”‚   â”œâ”€â”€ focused.png
â”‚   â”‚   â”‚   â””â”€â”€ friendly.png
â”‚   â”‚   â””â”€â”€ metadata.json
â”‚   â”œâ”€â”€ flip/
â”‚   â”œâ”€â”€ jerome/
â”‚   â”œâ”€â”€ donnie/
â”‚   â”œâ”€â”€ chase/
â”‚   â”œâ”€â”€ todd/
â”‚   â”œâ”€â”€ paul/
â”‚   â””â”€â”€ bello/
â”œâ”€â”€ backgrounds/
â”‚   â”œâ”€â”€ world_airport.png
â”‚   â”œâ”€â”€ asian_city.png
â”‚   â”œâ”€â”€ european_town.png
â”‚   â”œâ”€â”€ african_savanna.png
â”‚   â”œâ”€â”€ arctic.png
â”‚   â”œâ”€â”€ tropical_island.png
â”‚   â”œâ”€â”€ desert_oasis.png
â”‚   â”œâ”€â”€ american_city.png
â”‚   â”œâ”€â”€ rainforest.png
â”‚   â”œâ”€â”€ australian_outback.png
â”‚   â”œâ”€â”€ blue_sky.png
â”‚   â”œâ”€â”€ sunset_sky.png
â”‚   â”œâ”€â”€ night_sky.png
â”‚   â”œâ”€â”€ runway.png
â”‚   â””â”€â”€ hangar_interior.png
â””â”€â”€ ui/
    â”œâ”€â”€ icons/
    â”‚   â”œâ”€â”€ mission_delivery.png
    â”‚   â”œâ”€â”€ mission_rescue.png
    â”‚   â”œâ”€â”€ mission_sports.png
    â”‚   â”œâ”€â”€ mission_construction.png
    â”‚   â”œâ”€â”€ mission_police.png
    â”‚   â”œâ”€â”€ mission_animal.png
    â”‚   â”œâ”€â”€ resource_money.png
    â”‚   â”œâ”€â”€ resource_fuel.png
    â”‚   â”œâ”€â”€ resource_repair.png
    â”‚   â””â”€â”€ resource_boost.png
    â””â”€â”€ buttons/
        â”œâ”€â”€ primary_button.png
        â”œâ”€â”€ secondary_button.png
        â””â”€â”€ icon_button.png
```

### 2.5 å“è³ªæ§åˆ¶

**æª¢æŸ¥æ¸…å–®**:
- [ ] æ‰€æœ‰è§’è‰²é¡è‰²æ­£ç¢ºï¼ˆç‰¹åˆ¥æ˜¯ Flip çš„è—è‰²å¸½å­ï¼‰
- [ ] æ²’æœ‰äººé¡è§’è‰²æ··å…¥
- [ ] æ²’æœ‰å¤šè§’è‰²å•é¡Œ
- [ ] æ²’æœ‰å¤šé¤˜çœ¼ç›æˆ–ç•°å¸¸ç‰¹å¾µ
- [ ] åœ–ç‰‡è§£æåº¦ç¬¦åˆéœ€æ±‚ï¼ˆ1024Ã—1024 æˆ–æŒ‡å®šå°ºå¯¸ï¼‰
- [ ] WebP æ ¼å¼å„ªåŒ–ï¼ˆæ¸›å°‘æª”æ¡ˆå¤§å°ï¼‰

**å“è³ªæª¢æŸ¥è…³æœ¬**:
```bash
python scripts/batch/validate_game_assets.py \
  --assets-dir ~/web-projects/super-wings-simulator/assets/images/ \
  --report-output validation_report.json
```

### äº¤ä»˜ç‰©
- âœ… ~205 å¼µé«˜å“è³ªéŠæˆ²ç´ æ
- âœ… å®Œæ•´çš„ metadata è¨˜éŒ„
- âœ… çµ„ç¹”è‰¯å¥½çš„ç›®éŒ„çµæ§‹
- âœ… å“è³ªé©—è­‰å ±å‘Š

---

## Phase 3: Web éŠæˆ²æ¶æ§‹èˆ‡é–‹ç™¼ (ç¬¬ 3-6 é€±)

### ç›®æ¨™
å»ºç«‹å®Œæ•´çš„ web éŠæˆ²ï¼Œå¯¦ç¾æ ¸å¿ƒéŠæˆ²æ©Ÿåˆ¶

### 3.1 å°ˆæ¡ˆçµæ§‹

**ä½ç½®**: `~/web-projects/super-wings-simulator/`

**å®Œæ•´ç›®éŒ„æ¨¹**:
```
~/web-projects/super-wings-simulator/
â”œâ”€â”€ index.html                    # éŠæˆ²å…¥å£
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ main.css                  # å…¨åŸŸæ¨£å¼ã€CSS è®Šæ•¸
â”‚   â”œâ”€â”€ components.css            # å¯é‡ç”¨å…ƒä»¶ï¼ˆæŒ‰éˆ•ã€å¡ç‰‡ç­‰ï¼‰
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ main-menu.css
â”‚   â”‚   â”œâ”€â”€ hangar.css
â”‚   â”‚   â”œâ”€â”€ mission-board.css
â”‚   â”‚   â”œâ”€â”€ in-flight.css
â”‚   â”‚   â””â”€â”€ results.css
â”‚   â””â”€â”€ animations.css            # å‹•ç•«æ•ˆæœ
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ main.js                   # æ‡‰ç”¨å…¥å£é»
â”‚   â”œâ”€â”€ config.js                 # éŠæˆ²é…ç½®å¸¸æ•¸
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ game-state.js         # ä¸­å¤®ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ event-bus.js          # äº‹ä»¶ç³»çµ±
â”‚   â”‚   â””â”€â”€ save-load.js          # LocalStorage å„²å­˜
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ character.js          # è§’è‰²é¡åˆ¥
â”‚   â”‚   â”œâ”€â”€ mission.js            # ä»»å‹™é¡åˆ¥
â”‚   â”‚   â””â”€â”€ resource.js           # è³‡æºç®¡ç†
â”‚   â”œâ”€â”€ systems/
â”‚   â”‚   â”œâ”€â”€ dispatch.js           # æ´¾é£é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ travel.js             # é£›è¡Œæ¨¡æ“¬
â”‚   â”‚   â”œâ”€â”€ rewards.js            # çå‹µè¨ˆç®—
â”‚   â”‚   â””â”€â”€ unlock.js             # è§£é–ç³»çµ±
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ screen-manager.js     # ç•«é¢åˆ‡æ›
â”‚   â”‚   â””â”€â”€ screens/
â”‚   â”‚       â”œâ”€â”€ main-menu.js
â”‚   â”‚       â”œâ”€â”€ hangar.js
â”‚   â”‚       â”œâ”€â”€ mission-board.js
â”‚   â”‚       â”œâ”€â”€ in-flight.js
â”‚   â”‚       â””â”€â”€ results.js
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ image-loader.js       # åœ–ç‰‡é è¼‰
â”‚       â””â”€â”€ animations.js         # å‹•ç•«å·¥å…·
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ images/                   # Phase 2 ç”Ÿæˆçš„åœ–ç‰‡
â”‚   â””â”€â”€ audio/                    # éŸ³æ•ˆï¼ˆé¸é…ï¼‰
â””â”€â”€ data/
    â”œâ”€â”€ characters.json           # å¾ Phase 1 è¤‡è£½
    â”œâ”€â”€ missions.json             # ä»»å‹™å®šç¾©
    â””â”€â”€ balancing.json            # éŠæˆ²å¹³è¡¡åƒæ•¸
```

### 3.2 æ ¸å¿ƒç³»çµ±è¨­è¨ˆ

#### A. è§’è‰²ç³»çµ± (`js/models/character.js`)

```javascript
class Character {
  constructor(data) {
    this.id = data.id;
    this.name = data.name;
    this.role = data.role;
    this.colors = data.colors;

    // æ•¸å€¼å±¬æ€§
    this.level = 1;
    this.experience = 0;
    this.stats = {
      speed: data.stats.speed,              // 1-10ï¼Œå½±éŸ¿ä»»å‹™æ™‚é•·
      reliability: data.stats.reliability,  // 70-100%ï¼Œä»»å‹™æˆåŠŸç‡
      specialization: data.stats.specialization // "delivery", "sports", etc.
    };

    // ç‹€æ…‹
    this.state = 'available';  // available, on_mission, resting
    this.energy = 100;
    this.maxEnergy = 100;

    // è³‡æº
    this.imagePaths = {
      icon: `assets/images/characters/${this.id}/portraits/icon.png`,
      portrait: `assets/images/characters/${this.id}/portraits/front_view.png`,
      states: {
        idle: `assets/images/characters/${this.id}/states/idle.png`,
        flying: `assets/images/characters/${this.id}/states/in_flight.png`,
        // ...
      },
      expressions: { /* ... */ }
    };

    // LoRA è³‡è¨Šï¼ˆç”¨æ–¼å³æ™‚ç”Ÿæˆï¼‰
    this.lora = data.lora;
  }

  // è¨ˆç®—ä»»å‹™æ™‚é•·ï¼ˆåˆ†é˜ï¼‰
  calculateMissionDuration(mission) {
    const baseDuration = mission.duration;
    const speedBonus = (this.stats.speed / 10) * 0.2; // æœ€å¤šæ¸›å°‘ 20%
    const specializationBonus = (this.stats.specialization === mission.type) ? 0.15 : 0;
    return Math.floor(baseDuration * (1 - speedBonus - specializationBonus));
  }

  // è¨ˆç®—æˆåŠŸç‡
  calculateSuccessRate(mission) {
    let rate = this.stats.reliability;
    if (this.stats.specialization === mission.type) rate += 10;
    if (this.energy < 30) rate -= 20;  // ç–²å‹æ‡²ç½°
    return Math.max(20, Math.min(100, rate));
  }

  // æ¶ˆè€—èƒ½é‡
  consumeEnergy(amount) {
    this.energy = Math.max(0, this.energy - amount);
  }

  // æ¢å¾©èƒ½é‡
  restoreEnergy(amount) {
    this.energy = Math.min(this.maxEnergy, this.energy + amount);
  }

  // ç²å¾—ç¶“é©—
  gainExperience(amount) {
    this.experience += amount;
    while (this.experience >= this.getRequiredExperience()) {
      this.levelUp();
    }
  }

  levelUp() {
    this.level++;
    this.experience = 0;
    // æå‡å±¬æ€§
    this.stats.speed = Math.min(10, this.stats.speed + 0.5);
    this.stats.reliability = Math.min(100, this.stats.reliability + 2);
    this.maxEnergy += 10;
    this.energy = this.maxEnergy;
  }

  getRequiredExperience() {
    return this.level * 100;
  }
}
```

#### B. ä»»å‹™ç³»çµ± (`js/models/mission.js`)

```javascript
class Mission {
  constructor(data) {
    this.id = data.id;
    this.title = data.title;
    this.description = data.description;
    this.type = data.type;  // delivery, rescue, sports, construction, police, animal
    this.difficulty = data.difficulty;  // 1-5
    this.location = data.location;

    // éœ€æ±‚
    this.requirements = {
      minLevel: data.requirements?.minLevel || 1,
      recommendedSpecialization: data.type,
      energyCost: 20 + (data.difficulty * 10)
    };

    // æ™‚é–“
    this.duration = data.duration;  // åŸºç¤æ™‚é•·ï¼ˆåˆ†é˜ï¼‰
    this.timeLimit = data.timeLimit || null;  // æ™‚é–“é™åˆ¶ï¼ˆé¸é…ï¼‰

    // çå‹µ
    this.rewards = {
      experience: 50 * data.difficulty,
      money: 100 * data.difficulty,
      special: data.rewards?.special || null  // ç‰¹æ®Šçå‹µï¼ˆè§£é–ç­‰ï¼‰
    };

    // æ•…äº‹
    this.story = {
      intro: data.story.intro,      // ä»»å‹™ç°¡ä»‹
      problem: data.story.problem,  // é‡åˆ°çš„å•é¡Œ
      solution: data.story.solution // è§£æ±ºæ–¹æ¡ˆ
    };

    // è¦–è¦ºè³‡æº
    this.images = {
      background: `assets/images/backgrounds/${data.location}.png`,
      icon: `assets/images/ui/icons/mission_${data.type}.png`
    };
  }

  // æª¢æŸ¥è§’è‰²æ˜¯å¦ç¬¦åˆéœ€æ±‚
  isEligible(character) {
    if (character.level < this.requirements.minLevel) return false;
    if (character.energy < this.requirements.energyCost) return false;
    if (character.state !== 'available') return false;
    return true;
  }

  // è¨ˆç®—çå‹µå€ç‡ï¼ˆåŸºæ–¼è§’è‰²è¡¨ç¾ï¼‰
  calculateRewardMultiplier(character, success, bonuses) {
    let multiplier = success ? 1.0 : 0.3;
    if (character.stats.specialization === this.type) multiplier += 0.2;
    if (bonuses.perfectCompletion) multiplier += 0.3;
    if (bonuses.fastCompletion) multiplier += 0.2;
    return multiplier;
  }
}
```

#### C. è³‡æºç®¡ç† (`js/models/resource.js`)

```javascript
class ResourceManager {
  constructor() {
    this.resources = {
      money: 1000,           // èµ·å§‹é‡‘éŒ¢
      fuel: 100,             // ç‡ƒæ–™ï¼ˆè‡ªå‹•è£œå……ï¼‰
      repairKits: 5,         // ä¿®ç†åŒ…
      boostPacks: 0          // åŠ é€ŸåŒ…
    };

    this.maxValues = {
      fuel: 100,
      repairKits: 20,
      boostPacks: 10
    };

    // è‡ªå‹•è£œå……ç‡ƒæ–™
    this.startAutoRefuel();
  }

  // æ¶ˆè€—è³‡æº
  consume(resource, amount) {
    if (this.resources[resource] >= amount) {
      this.resources[resource] -= amount;
      return true;
    }
    return false;
  }

  // å¢åŠ è³‡æº
  add(resource, amount) {
    this.resources[resource] = Math.min(
      this.maxValues[resource] || Infinity,
      this.resources[resource] + amount
    );
  }

  // è³¼è²·ç‰©å“
  purchase(item, cost) {
    if (this.resources.money >= cost) {
      this.resources.money -= cost;
      this.add(item, 1);
      return true;
    }
    return false;
  }

  // è‡ªå‹•è£œå……ç‡ƒæ–™ï¼ˆæ¯åˆ†é˜ +1ï¼‰
  startAutoRefuel() {
    setInterval(() => {
      if (this.resources.fuel < this.maxValues.fuel) {
        this.resources.fuel++;
      }
    }, 60000); // æ¯åˆ†é˜
  }

  // ç²å–ç•¶å‰è³‡æºç‹€æ…‹
  getStatus() {
    return { ...this.resources };
  }
}
```

#### D. æ´¾é£ç³»çµ± (`js/systems/dispatch.js`)

```javascript
class DispatchSystem {
  constructor(gameState) {
    this.gameState = gameState;
    this.activeMissions = new Map();  // missionId -> { character, startTime, endTime }
  }

  // æ´¾é£è§’è‰²åŸ·è¡Œä»»å‹™
  dispatchCharacter(character, mission) {
    // é©—è­‰
    if (!mission.isEligible(character)) {
      throw new Error('è§’è‰²ä¸ç¬¦åˆä»»å‹™éœ€æ±‚');
    }

    // æ¶ˆè€—èƒ½é‡å’Œç‡ƒæ–™
    character.consumeEnergy(mission.requirements.energyCost);
    this.gameState.resources.consume('fuel', 10);

    // è¨ˆç®—ä»»å‹™æ™‚é•·
    const duration = character.calculateMissionDuration(mission);
    const startTime = Date.now();
    const endTime = startTime + (duration * 60 * 1000);

    // æ›´æ–°è§’è‰²ç‹€æ…‹
    character.state = 'on_mission';

    // è¨˜éŒ„æ´¾é£
    this.activeMissions.set(mission.id, {
      character: character,
      mission: mission,
      startTime: startTime,
      endTime: endTime,
      duration: duration
    });

    // è§¸ç™¼äº‹ä»¶
    this.gameState.eventBus.emit('mission:started', {
      character: character,
      mission: mission,
      duration: duration
    });

    // è¨­å®šå®Œæˆè¨ˆæ™‚å™¨
    setTimeout(() => {
      this.completeMission(mission.id);
    }, duration * 60 * 1000);

    return {
      success: true,
      estimatedCompletion: new Date(endTime)
    };
  }

  // å®Œæˆä»»å‹™
  completeMission(missionId) {
    const missionData = this.activeMissions.get(missionId);
    if (!missionData) return;

    const { character, mission } = missionData;

    // è¨ˆç®—æˆåŠŸç‡
    const successRate = character.calculateSuccessRate(mission);
    const success = Math.random() * 100 < successRate;

    // è¨ˆç®—çå‹µ
    const multiplier = mission.calculateRewardMultiplier(character, success, {
      perfectCompletion: success && Math.random() > 0.7,
      fastCompletion: false  // TODO: å¯¦ä½œæ™‚é–“æ¯”è¼ƒ
    });

    const rewards = {
      experience: Math.floor(mission.rewards.experience * multiplier),
      money: Math.floor(mission.rewards.money * multiplier),
      special: success ? mission.rewards.special : null
    };

    // ç™¼æ”¾çå‹µ
    character.gainExperience(rewards.experience);
    this.gameState.resources.add('money', rewards.money);

    // æ¢å¾©è§’è‰²ç‹€æ…‹
    character.state = 'available';
    character.restoreEnergy(30);  // éƒ¨åˆ†æ¢å¾©

    // ç§»é™¤æ´¾é£è¨˜éŒ„
    this.activeMissions.delete(missionId);

    // è§¸ç™¼äº‹ä»¶
    this.gameState.eventBus.emit('mission:completed', {
      character: character,
      mission: mission,
      success: success,
      rewards: rewards
    });

    return { success, rewards };
  }

  // ä½¿ç”¨åŠ é€ŸåŒ…
  useBoostPack(missionId) {
    const missionData = this.activeMissions.get(missionId);
    if (!missionData) return false;

    if (this.gameState.resources.consume('boostPacks', 1)) {
      // ç«‹å³å®Œæˆä»»å‹™
      clearTimeout(missionData.timer);
      this.completeMission(missionId);
      return true;
    }
    return false;
  }

  // ç²å–æ‰€æœ‰é€²è¡Œä¸­çš„ä»»å‹™
  getActiveMissions() {
    const now = Date.now();
    return Array.from(this.activeMissions.values()).map(data => ({
      character: data.character.name,
      mission: data.mission.title,
      progress: (now - data.startTime) / (data.endTime - data.startTime),
      remainingTime: Math.max(0, data.endTime - now)
    }));
  }
}
```

### 3.3 éŠæˆ²æµç¨‹

#### ä¸»é¸å–® â†’ æ©Ÿåº« â†’ ä»»å‹™æ¿ â†’ é£›è¡Œå‹•ç•« â†’ çµæœç•«é¢

**A. ä¸»é¸å–®** (`js/ui/screens/main-menu.js`)
- æ–°éŠæˆ²
- ç¹¼çºŒéŠæˆ²
- è¨­å®š
- é—œæ–¼

**B. æ©Ÿåº«** (`js/ui/screens/hangar.js`)
- é¡¯ç¤ºæ‰€æœ‰è§’è‰²å¡ç‰‡
- é¡¯ç¤ºè§’è‰²ç‹€æ…‹ï¼ˆå¯ç”¨ã€ä»»å‹™ä¸­ã€ä¼‘æ¯ä¸­ï¼‰
- é»æ“ŠæŸ¥çœ‹è§’è‰²è©³æƒ…
- è§’è‰²å‡ç´šä»‹é¢

**C. ä»»å‹™æ¿** (`js/ui/screens/mission-board.js`)
- é¡¯ç¤ºå¯ç”¨ä»»å‹™åˆ—è¡¨
- ç¯©é¸ï¼ˆé¡å‹ã€é›£åº¦ã€åœ°é»ï¼‰
- é¸æ“‡ä»»å‹™ â†’ é¸æ“‡è§’è‰² â†’ ç¢ºèªæ´¾é£
- é¡¯ç¤ºé€²è¡Œä¸­çš„ä»»å‹™

**D. é£›è¡Œå‹•ç•«** (`js/ui/screens/in-flight.js`)
- æ’­æ”¾è§’è‰²é£›è¡Œå‹•ç•«åºåˆ—
  1. èµ·é£›ï¼ˆtakeoffï¼‰
  2. é£›è¡Œé€”ä¸­ï¼ˆmid-flightï¼‰
  3. åˆ°é”ç›®çš„åœ°ï¼ˆarrivalï¼‰
  4. è®Šèº«ï¼ˆtransformationï¼‰
  5. è§£æ±ºå•é¡Œï¼ˆworkingï¼‰
  6. å®Œæˆï¼ˆsuccess/returnï¼‰
- èƒŒæ™¯åˆ‡æ›ï¼ˆæ©Ÿå ´ â†’ å¤©ç©º â†’ ç›®çš„åœ°ï¼‰
- é€²åº¦æ¢é¡¯ç¤º

**E. çµæœç•«é¢** (`js/ui/screens/results.js`)
- é¡¯ç¤ºä»»å‹™çµæœï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰
- ç²å¾—çš„çå‹µ
- è§’è‰²å‡ç´šé€šçŸ¥
- è§£é–æ–°å…§å®¹
- è¿”å›æ©Ÿåº«/ä»»å‹™æ¿

### 3.4 æ•¸æ“šæª”æ¡ˆ

#### ä»»å‹™å®šç¾© (`data/missions.json`)

```json
{
  "missions": [
    {
      "id": "delivery_asia_01",
      "title": "é€ç©å…·åˆ°æ±äº¬",
      "description": "å°æ˜åœ¨æ±äº¬ç­‰å¾…ä»–çš„ç”Ÿæ—¥ç¦®ç‰©ï¼",
      "type": "delivery",
      "difficulty": 1,
      "location": "asian_city",
      "duration": 5,
      "requirements": {
        "minLevel": 1
      },
      "rewards": {
        "experience": 50,
        "money": 100
      },
      "story": {
        "intro": "å°æ˜å³å°‡éç”Ÿæ—¥ï¼Œä»–çš„çˆºçˆºå¾ç¾åœ‹å¯„ä¾†äº†ç‰¹åˆ¥çš„ç¦®ç‰©ã€‚",
        "problem": "åŒ…è£¹éœ€è¦å¿«é€Ÿé€é”ï¼Œå› ç‚ºç”Ÿæ—¥æ´¾å°å³å°‡é–‹å§‹ï¼",
        "solution": "æˆåŠŸæº–æ™‚é€é”ï¼Œå°æ˜éå¸¸é–‹å¿ƒï¼"
      }
    },
    {
      "id": "rescue_arctic_01",
      "title": "åŒ—æ¥µæ•‘æ´",
      "description": "ç§‘å­¸å®¶åœ¨åŒ—æ¥µé‡åˆ°æš´é¢¨é›ªï¼Œéœ€è¦ç·Šæ€¥ç‰©è³‡ï¼",
      "type": "rescue",
      "difficulty": 3,
      "location": "arctic",
      "duration": 15,
      "timeLimit": 20,
      "requirements": {
        "minLevel": 3
      },
      "rewards": {
        "experience": 150,
        "money": 300,
        "special": "unlock_character_todd"
      },
      "story": {
        "intro": "åŒ—æ¥µç ”ç©¶ç«™é­é‡æš´é¢¨é›ªï¼Œç§‘å­¸å®¶å€‘éœ€è¦ç·Šæ€¥ç‰©è³‡ã€‚",
        "problem": "æš´é¢¨é›ªå¾ˆå¼·ï¼Œèƒ½è¦‹åº¦æ¥µä½ï¼Œå°èˆªå›°é›£ï¼",
        "solution": "æ†‘è—‰å‹‡æ°£å’ŒæŠ€è¡“ï¼ŒæˆåŠŸé€é”ç‰©è³‡ï¼Œæ‹¯æ•‘äº†ç§‘å­¸å®¶å€‘ï¼"
      }
    },
    {
      "id": "sports_europe_01",
      "title": "è¶³çƒè³½å”åŠ©",
      "description": "å¹«åŠ©å­©å­å€‘æº–å‚™è¶³çƒæ¯”è³½ï¼",
      "type": "sports",
      "difficulty": 2,
      "location": "european_town",
      "duration": 8,
      "requirements": {
        "minLevel": 2,
        "recommendedCharacter": "flip"
      },
      "rewards": {
        "experience": 100,
        "money": 200
      },
      "story": {
        "intro": "æ³•åœ‹å°é®çš„å­©å­å€‘è¦åƒåŠ é‡è¦çš„è¶³çƒæ¯”è³½ã€‚",
        "problem": "ä»–å€‘çš„è¶³çƒè£å‚™é‚„æ²’é€åˆ°ï¼",
        "solution": "Flip ç”¨é‹å‹•å°ˆæ¥­çŸ¥è­˜å¹«åŠ©ä»–å€‘ç†±èº«ï¼Œå­©å­å€‘è´å¾—äº†æ¯”è³½ï¼"
      }
    }
    // ... æ›´å¤šä»»å‹™ (å»ºè­°è‡³å°‘ 30 å€‹)
  ]
}
```

### äº¤ä»˜ç‰©
- âœ… å®Œæ•´çš„ web éŠæˆ²ç¨‹å¼ç¢¼
- âœ… æ‰€æœ‰æ ¸å¿ƒç³»çµ±å¯¦ä½œå®Œæˆ
- âœ… 5 å€‹ä¸»è¦ç•«é¢å…¨éƒ¨å¯¦ä½œ
- âœ… è‡³å°‘ 30 å€‹ä»»å‹™
- âœ… å®Œæ•´çš„éŠæˆ²æµç¨‹å¯ç©

---

## Phase 4: æ‰“ç£¨ã€æ¸¬è©¦èˆ‡éƒ¨ç½² (ç¬¬ 7-8 é€±)

### ç›®æ¨™
å„ªåŒ–æ•ˆèƒ½ã€ä¿®å¾© bugã€æå‡ä½¿ç”¨è€…é«”é©—

### 4.1 å‹•ç•«èˆ‡éå ´æ•ˆæœ

**A. CSS å‹•ç•«** (`css/animations.css`)
- è§’è‰²å¡ç‰‡ç¿»è½‰æ•ˆæœ
- ä»»å‹™å®Œæˆç…™ç«æ•ˆæœ
- è³‡æºç²å¾—å‹•ç•«
- ç•«é¢åˆ‡æ›éå ´

**B. é£›è¡Œå‹•ç•«åºåˆ—**
ä½¿ç”¨ CSS animation + JavaScript æ§åˆ¶æ™‚åºï¼š
```javascript
async function playFlightAnimation(character, mission) {
  // 1. èµ·é£› (2ç§’)
  await animateCharacter('takeoff', 2000);
  await changeBackground('runway', 'sky', 1000);

  // 2. é£›è¡Œ (3ç§’)
  await animateCharacter('flying', 3000);
  await showClouds();

  // 3. åˆ°é” (2ç§’)
  await changeBackground('sky', mission.location, 1000);
  await animateCharacter('landing', 2000);

  // 4. è®Šèº« (1.5ç§’)
  await animateTransformation(character, 1500);

  // 5. å·¥ä½œ (2ç§’)
  await animateCharacter('working', 2000);

  // 6. å®Œæˆ (1ç§’)
  await animateCharacter('celebrating', 1000);

  return 'complete';
}
```

### 4.2 æ•ˆèƒ½å„ªåŒ–

**A. åœ–ç‰‡å„ªåŒ–**
- [ ] è½‰æ›æ‰€æœ‰ PNG ç‚º WebP æ ¼å¼ï¼ˆæ¸›å°‘ 50-70% æª”æ¡ˆå¤§å°ï¼‰
- [ ] å¯¦ä½œ lazy loading
- [ ] é è¼‰é—œéµåœ–ç‰‡
- [ ] ä½¿ç”¨ sprite sheets æ•´åˆå°åœ–ç¤º

**B. ç¨‹å¼ç¢¼å„ªåŒ–**
- [ ] Minify JavaScript å’Œ CSS
- [ ] å•Ÿç”¨ gzip å£“ç¸®
- [ ] å¯¦ä½œ service worker (é›¢ç·šæ”¯æ´)

**C. æ•ˆèƒ½ç›®æ¨™**
- é¦–æ¬¡è¼‰å…¥ < 3 ç§’
- ç•«é¢åˆ‡æ› < 300ms
- å‹•ç•« 60 FPS

### 4.3 éŸ¿æ‡‰å¼è¨­è¨ˆ

**æ”¯æ´è£ç½®**:
- æ¡Œé¢ç€è¦½å™¨ (1920Ã—1080, 1366Ã—768)
- å¹³æ¿ (iPad: 1024Ã—768)
- æ‰‹æ©Ÿ (iPhone: 390Ã—844, Android: 360Ã—800)

**CSS æ–·é»**:
```css
/* æ‰‹æ©Ÿ */
@media (max-width: 768px) {
  /* å–®æ¬„å¸ƒå±€ï¼Œè¼ƒå¤§çš„è§¸æ§æŒ‰éˆ• */
}

/* å¹³æ¿ */
@media (min-width: 769px) and (max-width: 1024px) {
  /* å…©æ¬„å¸ƒå±€ */
}

/* æ¡Œé¢ */
@media (min-width: 1025px) {
  /* å®Œæ•´å¸ƒå±€ */
}
```

### 4.4 æ¸¬è©¦

**A. åŠŸèƒ½æ¸¬è©¦**
- [ ] æ‰€æœ‰ç•«é¢å¯æ­£å¸¸åˆ‡æ›
- [ ] æ´¾é£ç³»çµ±é‹ä½œæ­£å¸¸
- [ ] è³‡æºè¨ˆç®—æ­£ç¢º
- [ ] å„²å­˜/è®€å–åŠŸèƒ½
- [ ] è§’è‰²å‡ç´šç³»çµ±

**B. ç›¸å®¹æ€§æ¸¬è©¦**
- [ ] Chrome 100+
- [ ] Firefox 100+
- [ ] Safari 15+
- [ ] Edge 100+
- [ ] iOS Safari
- [ ] Android Chrome

**C. ä½¿ç”¨è€…æ¸¬è©¦**
- æ‰¾ 3-5 ä½æ¸¬è©¦è€…è©¦ç©
- æ”¶é›†å›é¥‹ä¸¦æ”¹é€²

### 4.5 éƒ¨ç½²

**A. GitHub Pages éƒ¨ç½²**
```bash
cd ~/web-projects/super-wings-simulator/
git init
git add .
git commit -m "Initial commit: Super Wings Simulator"
git branch -M main
git remote add origin https://github.com/username/super-wings-simulator.git
git push -u origin main

# å•Ÿç”¨ GitHub Pages (Settings â†’ Pages â†’ Source: main branch)
```

**B. è‡ªè¨‚ç¶²åŸŸï¼ˆé¸é…ï¼‰**
- è¨­å®š CNAME
- è¨­å®š DNS

### äº¤ä»˜ç‰©
- âœ… å®Œå…¨å„ªåŒ–çš„éŠæˆ²
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆæ”¯æ´æ‰€æœ‰è£ç½®
- âœ… éƒ¨ç½²åˆ° GitHub Pages
- âœ… å®Œæ•´çš„ä½¿ç”¨è€…æ–‡æª”

---

## å®Œæ•´æ™‚ç¨‹è¡¨

| é€±æ¬¡ | éšæ®µ | ä¸»è¦ä»»å‹™ | äº¤ä»˜ç‰© |
|------|------|---------|--------|
| **W1** | Phase 1 | è§’è‰²è³‡è¨Šæ•´ç†èˆ‡é©—è­‰ | è§’è‰²è³‡æ–™åº« JSONã€æ›´æ–°é…ç½®æ–‡ä»¶ã€æ–‡æª” |
| **W2** | Phase 2.1 | Prompt æ¨¡æ¿è¨­è¨ˆã€ç”Ÿæˆè…³æœ¬é–‹ç™¼ | Prompt æ¨¡æ¿åº«ã€æ‰¹æ¬¡ç”Ÿæˆè…³æœ¬ |
| **W3** | Phase 2.2 | æ‰¹æ¬¡ç”Ÿæˆåœ–ç‰‡ | ~200 å¼µéŠæˆ²ç´ æ |
| **W4** | Phase 3.1 | æ ¸å¿ƒç³»çµ±é–‹ç™¼ï¼ˆè§’è‰²ã€ä»»å‹™ã€è³‡æºï¼‰ | æ ¸å¿ƒé¡åˆ¥èˆ‡ç³»çµ± |
| **W5** | Phase 3.2 | UI ç•«é¢é–‹ç™¼ï¼ˆä¸»é¸å–®ã€æ©Ÿåº«ã€ä»»å‹™æ¿ï¼‰ | 3 å€‹ä¸»è¦ç•«é¢ |
| **W6** | Phase 3.3 | é£›è¡Œå‹•ç•«èˆ‡çµæœç•«é¢ã€éŠæˆ²æµç¨‹æ•´åˆ | å®Œæ•´å¯ç©éŠæˆ² |
| **W7** | Phase 4.1 | å‹•ç•«æ‰“ç£¨ã€æ•ˆèƒ½å„ªåŒ– | å„ªåŒ–å¾ŒéŠæˆ² |
| **W8** | Phase 4.2 | æ¸¬è©¦ã€ä¿®å¾© bugã€éƒ¨ç½² | ä¸Šç·šç‰ˆæœ¬ |

---

## æŠ€è¡“è¦æ ¼æ‘˜è¦

### åœ–ç‰‡ç”Ÿæˆåƒæ•¸
- **Base Model**: SDXL 1.0 (`sd_xl_base_1.0.safetensors`)
- **LoRA Weight**: 0.8-1.0
- **Resolution**: 1024Ã—1024 (è‚–åƒ)ã€1280Ã—720 (èƒŒæ™¯)
- **Sampler**: DPM++ 2M Karras æˆ– Euler A
- **Steps**: 30-40
- **CFG Scale**: 7.5-9.0
- **æ ¼å¼**: PNG â†’ è½‰æ›ç‚º WebP

### Web æŠ€è¡“
- **å‰ç«¯**: ç´” HTML5/CSS3/JavaScript (ES6+)
- **å„²å­˜**: LocalStorage
- **éƒ¨ç½²**: GitHub Pages
- **ç€è¦½å™¨æ”¯æ´**: Chrome/Firefox/Safari/Edge 100+

### éŠæˆ²å¹³è¡¡
- **èµ·å§‹è³‡æº**: 1000 é‡‘éŒ¢ã€100 ç‡ƒæ–™ã€5 ä¿®ç†åŒ…
- **è§’è‰²æ•¸å€¼**: Speed 1-10ã€Reliability 70-100%
- **ä»»å‹™çå‹µ**: 50-500 é‡‘éŒ¢ï¼ˆä¾é›£åº¦ï¼‰
- **è§’è‰²è§£é–æˆæœ¬**: 500-2000 é‡‘éŒ¢
- **å‡ç´šæˆæœ¬**: 200-1000 é‡‘éŒ¢

---

## é—œéµæª”æ¡ˆè·¯å¾‘

### Phase 1 - è§’è‰²æ–‡æª”
- `/mnt/c/ai_projects/3d-animation-lora-pipeline/configs/characters/super_wings_characters.json`
- `/mnt/c/ai_projects/3d-animation-lora-pipeline/docs/super_wings/character_database.md`
- `/mnt/c/ai_projects/3d-animation-lora-pipeline/configs/training/super_wings_caption_config.yaml` (éœ€ä¿®æ­£)

### Phase 2 - åœ–ç‰‡ç”Ÿæˆ
- `/mnt/c/ai_projects/3d-animation-lora-pipeline/prompts/super_wings_game/*.json`
- `/mnt/c/ai_projects/3d-animation-lora-pipeline/scripts/batch/generate_super_wings_game_assets.py`
- `~/web-projects/super-wings-simulator/assets/images/`

### Phase 3 - Web éŠæˆ²
- `~/web-projects/super-wings-simulator/index.html`
- `~/web-projects/super-wings-simulator/js/core/game-state.js`
- `~/web-projects/super-wings-simulator/js/models/character.js`
- `~/web-projects/super-wings-simulator/data/missions.json`

---

## é¢¨éšªèˆ‡ç·©è§£æªæ–½

| é¢¨éšª | å½±éŸ¿ | ç·©è§£æªæ–½ |
|------|------|---------|
| åœ–ç‰‡ç”Ÿæˆå“è³ªä¸ä¸€è‡´ | é«˜ | åš´æ ¼çš„å“è³ªæª¢æŸ¥æµç¨‹ã€é‡æ–°ç”Ÿæˆä¸åˆæ ¼åœ–ç‰‡ |
| éŠæˆ²å¹³è¡¡å•é¡Œ | ä¸­ | å……åˆ†æ¸¬è©¦ã€å¯èª¿æ•´çš„é…ç½®æ–‡ä»¶ |
| æ•ˆèƒ½å•é¡Œ | ä¸­ | åœ–ç‰‡å„ªåŒ–ï¼ˆWebPï¼‰ã€lazy loadingã€ç¨‹å¼ç¢¼å„ªåŒ– |
| ç€è¦½å™¨ç›¸å®¹æ€§ | ä½ | ä½¿ç”¨æˆç†Ÿçš„ Web æ¨™æº–ã€å……åˆ†æ¸¬è©¦ |
| æ™‚ç¨‹å»¶èª¤ | ä¸­ | æ¡ç”¨æ¼¸é€²å¼é–‹ç™¼ã€MVP å„ªå…ˆ |

---

## åƒè€ƒè³‡æ–™ä¾†æº

### å®˜æ–¹è³‡æ–™
- [Super Wings - Wikipedia](https://en.wikipedia.org/wiki/Super_Wings)
- [Super Wings Wiki - Characters](https://super-wings.fandom.com/wiki/Category:Characters)
- [Super Wings Wiki - Flip](https://super-wings.fandom.com/wiki/Flip)

### å…§éƒ¨æ–‡æª”
- `/mnt/c/ai_projects/3d-animation-lora-pipeline/docs/projects/super-wings/super_wings_series.md`
- `/mnt/c/ai_projects/3d-animation-lora-pipeline/docs/projects/super-wings/character/character_*.md`

### è¨“ç·´è³‡æ–™
- `/mnt/data/datasets/general/super-wings/lora_data/characters/`
- `/mnt/data/training/lora/super-wings/`

---

## ä¸‹ä¸€æ­¥è¡Œå‹•

### ç«‹å³å¯é–‹å§‹çš„ä»»å‹™ï¼ˆPhase 1ï¼‰

1. **å¯©æŸ¥ç¾æœ‰è§’è‰²æ–‡æª”**
   ```bash
   cd /mnt/c/ai_projects/3d-animation-lora-pipeline/docs/projects/super-wings/character/
   # é–±è®€æ‰€æœ‰ character_*.md æ–‡ä»¶
   ```

2. **ä¿®æ­£é…ç½®æ–‡ä»¶ä¸­çš„ Flip é¡è‰²**
   ```yaml
   # ç·¨è¼¯ configs/training/super_wings_caption_config.yaml
   flip:
     name: "Flip"
     description: "Red stunt plane with sports theme, acrobatic expert"
     colors: "red body with white stripes, blue cap with yellow trim"
     style: "compact stunt plane, energetic, sporty"
   ```

3. **å»ºç«‹çµ±ä¸€è§’è‰²è³‡æ–™åº«**
   ```bash
   # æ–°å¢æª”æ¡ˆ
   /mnt/c/ai_projects/3d-animation-lora-pipeline/configs/characters/super_wings_characters.json
   ```

4. **æå– caption è³‡è¨Š**
   ```bash
   # å¾è¨“ç·´ captions ä¸­æå–é¡è‰²å’Œç‰¹å¾µè³‡è¨Š
   grep -h "distinctive\|color\|feature" /mnt/data/datasets/general/super-wings/lora_data/characters/*/augmented/*.txt | sort | uniq
   ```

---

## æˆåŠŸæ¨™æº–

### Phase 1 å®Œæˆæ¨™æº–
- âœ… æ‰€æœ‰ 8 å€‹è§’è‰²çš„è³‡è¨Šå®Œæ•´ä¸”æ­£ç¢º
- âœ… é…ç½®æ–‡ä»¶ä¸­çš„é¡è‰²éŒ¯èª¤å·²ä¿®æ­£
- âœ… è§’è‰²è³‡æ–™åº« JSON æ ¼å¼è¦ç¯„ã€æ˜“æ–¼ç¨‹å¼è®€å–

### Phase 2 å®Œæˆæ¨™æº–
- âœ… ç”Ÿæˆè‡³å°‘ 200 å¼µé«˜å“è³ªéŠæˆ²ç´ æ
- âœ… æ‰€æœ‰è§’è‰²é¡è‰²æ­£ç¢ºï¼ˆç‰¹åˆ¥æ˜¯ Flip çš„è—è‰²å¸½å­ï¼‰
- âœ… åœ–ç‰‡çµ„ç¹”è‰¯å¥½ã€å‘½åè¦ç¯„

### Phase 3 å®Œæˆæ¨™æº–
- âœ… éŠæˆ²å¯å®Œæ•´éŠç©ï¼ˆæ´¾é£ â†’ é£›è¡Œ â†’ å®Œæˆ â†’ çå‹µï¼‰
- âœ… è‡³å°‘ 30 å€‹ä»»å‹™
- âœ… å„²å­˜/è®€å–åŠŸèƒ½æ­£å¸¸

### Phase 4 å®Œæˆæ¨™æº–
- âœ… åœ¨æ‰€æœ‰ä¸»æµç€è¦½å™¨ä¸Šé‹è¡Œæµæš¢
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆæ”¯æ´æ‰‹æ©Ÿ/å¹³æ¿/æ¡Œé¢
- âœ… æˆåŠŸéƒ¨ç½²åˆ° GitHub Pages

---

**å°ˆæ¡ˆå®Œæˆå¾Œçš„é¡˜æ™¯**: ä¸€å€‹å®Œæ•´ã€æœ‰è¶£ã€è¦–è¦ºç²¾ç¾çš„ Super Wings æ¨¡æ“¬éŠæˆ²ï¼Œè®“ç©å®¶é«”é©—æˆç‚ºä¸–ç•Œæ©Ÿå ´èª¿åº¦å“¡çš„æ¨‚è¶£ï¼Œæ´¾é£å„å€‹ Super Wings è§’è‰²å»å¹«åŠ©ä¸–ç•Œå„åœ°çš„å°æœ‹å‹ï¼

---

## Phase 5: è¦–è¦ºå„ªåŒ–èˆ‡éŠæˆ²æ©Ÿåˆ¶ (æ–°å¢)

### ç›®æ¨™
å¢å¼·éŠæˆ²çš„è¦–è¦ºé«”é©—å’Œæ ¸å¿ƒéŠæˆ²æ©Ÿåˆ¶

### 5.1 è¦–è¦ºå„ªåŒ–ç³»çµ±

#### A. ä¸»é¡Œåˆ‡æ› (ThemeManager)
**æª”æ¡ˆ**: `js/core/theme-manager.js`
- æ·±è‰²/æ·ºè‰²ä¸»é¡Œåˆ‡æ›
- è‡ªå‹•åµæ¸¬ç³»çµ±åå¥½ (prefers-color-scheme)
- localStorage æŒä¹…åŒ–
- CSS è®Šæ•¸è¦†å¯«æ©Ÿåˆ¶

**CSS è®Šæ•¸**:
```css
:root {
    --bg-main: #E0F7FA;
    --bg-panel: #FFFFFF;
    --text-main: #333333;
}
[data-theme="dark"] {
    --bg-main: #121212;
    --bg-panel: #1E1E1E;
    --text-main: #E0E0E0;
}
```

#### B. é é¢è½‰å ´ (PageTransition)
**æª”æ¡ˆ**: `js/ui/effects/page-transition.js`
- fade - æ·¡å…¥æ·¡å‡º
- slide-left/right - æ»‘å‹•
- zoom - ç¸®æ”¾
- iris - åœ“å½¢å±•é–‹/æ”¶ç¸®

#### C. ç²’å­ç³»çµ± (ParticleSystem)
**æª”æ¡ˆ**: `js/ui/effects/particle-system.js`
- confetti - æ…¶ç¥å½©å¸¶
- sparkle - é–ƒå…‰æ•ˆæœ
- coinBurst - é‡‘å¹£çˆ†ç™¼
- levelUp - å‡ç´šå…‰ç’°

### 5.2 éŠæˆ²æ©Ÿåˆ¶ç³»çµ±

#### A. çµ±è¨ˆè¿½è¹¤ (StatisticsTracker)
**æª”æ¡ˆ**: `js/systems/statistics-tracker.js`

è¿½è¹¤æ•¸æ“šï¼š
- ä»»å‹™çµ±è¨ˆ (å®Œæˆ/å¤±æ•—/æŒ‰é¡å‹)
- æ¢ç´¢çµ±è¨ˆ (åœ°é»/NPC)
- ç¶“æ¿Ÿçµ±è¨ˆ (æ”¶å…¥/æ”¯å‡º/å³°å€¼)
- é£›è¡Œçµ±è¨ˆ (æ™‚é–“/é‡‘å¹£/éšœç¤™)
- è¡¨ç¾çµ±è¨ˆ (é€£å‹/å®Œç¾ä»»å‹™)
- è§’è‰²çµ±è¨ˆ (ä½¿ç”¨/å‡ç´š)
- æ™‚é–“çµ±è¨ˆ (ç¸½éŠç©æ™‚é–“/é¦–æ¬¡/æœ€å¾Œ)

#### B. æˆå°±ç³»çµ± (AchievementSystem)
**æª”æ¡ˆ**: `js/systems/achievement-system.js`

23 å€‹é å®šç¾©æˆå°±ï¼š
| é¡åˆ¥ | æ•¸é‡ | ç¯„ä¾‹ |
|------|------|------|
| milestone | 5 | é¦–æ¬¡é£›è¡Œã€50ä»»å‹™ã€100ä»»å‹™ |
| mission_type | 4 | é…é€æ–°æ‰‹ã€é‹å‹•æ„›å¥½è€… |
| exploration | 2 | 5åœ°é»ã€æ‰€æœ‰åœ°é» |
| character | 4 | å…¨å“¡å‡ºå‹•ã€Jettå¤§å¸« |
| performance | 3 | å®Œç¾é€£å‹(5)ã€å‹¢ä¸å¯æ“‹(10) |
| progression | 2 | è§’è‰²é”5ç´šã€10ç´š |
| economy | 1 | ç´¯ç©10000é‡‘å¹£ |
| special | 2 | äº‹ä»¶è™•ç†ã€å¹«åŠ©NPC |

ç¨€æœ‰åº¦èˆ‡çå‹µï¼š
- Common (10pts): 100éŒ¢ + 50XP
- Uncommon (25pts): 200éŒ¢ + 100XP
- Rare (50pts): 300éŒ¢ + 150XP
- Epic (100pts): 500éŒ¢ + 250XP
- Legendary (200pts): 1000éŒ¢ + 500XP

#### C. å­˜æª”ç®¡ç† (SaveManager)
**æª”æ¡ˆ**: `js/systems/save-manager.js`

å­˜æª”æ ¼å¼ V2ï¼š
```javascript
{
    version: 2,
    slot: 0,           // 0-2 (3å€‹å­˜æª”æ§½)
    timestamp: Date,
    playTime: seconds,
    preview: { money, missionsCompleted, lastLocation },
    gameState: { ... },
    statistics: { ... },
    achievements: { unlocked: [], progress: {} },
    settings: { theme, bgmVolume, sfxVolume }
}
```

### 5.3 éŸ³æ•ˆå¢å¼·

#### AudioManager æ“´å……
**æª”æ¡ˆ**: `js/core/audio-manager.js`

æ–°å¢åŠŸèƒ½ï¼š
- åˆæˆ BGM (Web Audio API)
- BGM äº¤å‰æ·¡å…¥æ·¡å‡º
- éŸ³æ•ˆæ±  (reusable oscillators)
- åˆ†é–‹çš„ BGM/SFX éŸ³é‡æ§åˆ¶

æ–°å¢åˆæˆéŸ³æ•ˆï¼š
- button - UIæŒ‰éˆ•é»æ“Š
- hover - æ‡¸åœ
- success - æˆåŠŸ
- error - éŒ¯èª¤
- achievement - æˆå°±è§£é–
- levelup - å‡ç´š

### 5.4 æ–°æª”æ¡ˆçµæ§‹

```
js/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ theme-manager.js       (æ–°å¢)
â”‚   â””â”€â”€ audio-manager.js       (ä¿®æ”¹)
â”œâ”€â”€ systems/
â”‚   â”œâ”€â”€ achievement-system.js  (æ–°å¢)
â”‚   â”œâ”€â”€ statistics-tracker.js  (æ–°å¢)
â”‚   â””â”€â”€ save-manager.js        (æ–°å¢)
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ theme-toggle.js    (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ save-slot-card.js  (æ–°å¢)
â”‚   â”‚   â””â”€â”€ achievement-card.js(æ–°å¢)
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ achievements.js    (æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ statistics.js      (æ–°å¢)
â”‚   â”‚   â””â”€â”€ save-load.js       (æ–°å¢)
â”‚   â””â”€â”€ effects/
â”‚       â”œâ”€â”€ page-transition.js (æ–°å¢)
â”‚       â”œâ”€â”€ particle-system.js (æ–°å¢)
â”‚       â””â”€â”€ achievement-popup.js(æ–°å¢)
```

### 5.5 å¯¦ä½œé †åº

| éšæ®µ | ä»»å‹™ | ç‹€æ…‹ |
|------|------|------|
| 5.1 | ThemeManager + æ·±è‰²ä¸»é¡Œ CSS | âœ… å®Œæˆ |
| 5.2 | StatisticsTracker | ğŸ”„ é€²è¡Œä¸­ |
| 5.3 | SaveManager | â³ å¾…é–‹å§‹ |
| 5.4 | AchievementSystem | â³ å¾…é–‹å§‹ |
| 5.5 | æˆå°±å½ˆçª— + ç•«é¢ | â³ å¾…é–‹å§‹ |
| 5.6 | å­˜è®€æª”ç•«é¢ | â³ å¾…é–‹å§‹ |
| 5.7 | çµ±è¨ˆç•«é¢ | â³ å¾…é–‹å§‹ |
| 5.8 | PageTransition | â³ å¾…é–‹å§‹ |
| 5.9 | ParticleSystem | â³ å¾…é–‹å§‹ |
| 5.10 | AudioManager BGM | â³ å¾…é–‹å§‹ |
| 5.11 | æ•´åˆæ¸¬è©¦ | â³ å¾…é–‹å§‹ |

### äº¤ä»˜ç‰©
- âœ… æ·±è‰²/æ·ºè‰²ä¸»é¡Œåˆ‡æ›
- âœ… çµ±è¨ˆè¿½è¹¤ç³»çµ±
- âœ… æˆå°±ç³»çµ± (23å€‹æˆå°±)
- âœ… å¤šå­˜æª”æ§½ (3æ§½)
- âœ… é é¢è½‰å ´å‹•ç•«
- âœ… ç²’å­æ…¶ç¥æ•ˆæœ
- âœ… åˆæˆèƒŒæ™¯éŸ³æ¨‚

---

## Phase 5.B: å®Œæ•´å‹•ç•«æµç¨‹å¢å¼· (æ–°å¢ 2025-12-17)

### ç›®æ¨™
åˆ©ç”¨ AI åœ–ç‰‡é¸æ“‡ API è‡ªå‹•åˆ¤æ–·æœ€é©åˆçš„åœ–ç‰‡ï¼Œå¢å¼·æ‰€æœ‰é£›è¡Œå‹•ç•«æµç¨‹

### éŠæˆ²æµç¨‹åœ–

```
HANGAR
  â†“ (é¸æ“‡ä»»å‹™)
LAUNCH (å¢å¼·ç‰ˆ - AI åœ–ç‰‡é¸æ“‡)
  â†“ (èµ·é£›å‹•ç•«)
IN-FLIGHT (é£›è¡ŒéŠæˆ²)
  â†“ (é£›è¡ŒçµæŸ)
ARRIVAL (æ–°ç•«é¢ - é™è½å‹•ç•«)
  â†“ (æº–å‚™è®Šèº«)
TRANSFORMATION (å·²å®Œæˆ - æ‰‹å‹•æ§åˆ¶)
  â†“ (è®Šèº«å®Œæˆ)
DIALOGUE - INTRO
  â†“
TASK (ä»»å‹™å°éŠæˆ²)
  â†“
DIALOGUE - OUTRO
  â†“
RESULTS (çå‹µå±•ç¤º)
  â†“
RETURN (å¢å¼·ç‰ˆ - å®Œæ•´è¿”å›åºåˆ—)
  â†“ (æ…¶ç¥â†’åè®Šèº«â†’èµ·é£›â†’é£›è¡Œâ†’é™è½)
HANGAR
```

### 5.B.1 AI åœ–ç‰‡é¸æ“‡æœå‹™

**æª”æ¡ˆ**: `js/core/image-selector-service.js`

å‰ç«¯æœå‹™å°è£ï¼š
```javascript
class ImageSelectorService {
    apiBase = 'http://localhost:8000/api/v1/images';

    // å ´æ™¯å°ˆç”¨é¸æ“‡å™¨
    async selectForReady(characterId)      // æº–å‚™éšæ®µ
    async selectForTakeoff(characterId)    // èµ·é£›éšæ®µ
    async selectForFlying(characterId)     // é£›è¡Œéšæ®µ
    async selectForDescending(characterId) // é™è½éšæ®µ
    async selectForHovering(characterId)   // æ‡¸åœ/æº–å‚™è®Šèº«
    async selectForCelebrating(characterId) // æ…¶ç¥
    async selectForReturning(characterId)  // è¿”å›é£›è¡Œ

    // æ‰¹æ¬¡é è¼‰
    async preloadForLaunch(characterId)
    async preloadForArrival(characterId)
    async preloadForReturn(characterId)

    // è®Šèº«åºåˆ— (æ”¯æ´åå‘)
    async getTransformSequence(characterId, { reverse: true })
}
```

### 5.B.2 èµ·é£›å‹•ç•«å¢å¼· (launch.js)

**å‹•ç•«åºåˆ—** (ç´„ 5 ç§’):
| éšæ®µ | æ™‚é–“ | åœ–ç‰‡ | æ•ˆæœ |
|------|------|------|------|
| Ready | 0-1s | AI é¸æ“‡ "determined" | è§’è‰²æº–å‚™ |
| Accelerating | 1-3s | AI é¸æ“‡ "takeoff" | Canvas é€Ÿåº¦ç·š + éœ‡å‹• |
| Liftoff | 3-4.5s | AI é¸æ“‡ "flying" | è§’è‰²ä¸Šå‡ + é›²å±¤ |
| Transition | 4.5-5s | - | é–ƒå…‰ + åˆ‡æ› |

è¦–è¦ºæ•ˆæœï¼š
- âœ… TransformationBackground (é€Ÿåº¦ç·š)
- âœ… é›²å±¤ parallax
- âœ… æ’æ°£ç²’å­
- âœ… è¢å¹•éœ‡å‹•
- âœ… å‹•æ…‹ RPM è¡¨

### 5.B.3 é™è½å‹•ç•« (arrival.js) [æ–°å»º]

**æª”æ¡ˆ**: `js/ui/screens/arrival.js`

**å‹•ç•«åºåˆ—** (ç´„ 4 ç§’):
| éšæ®µ | æ™‚é–“ | åœ–ç‰‡ | æ•ˆæœ |
|------|------|------|------|
| Descending | 0-2s | AI é¸æ“‡ "landing" | è§’è‰²ä¸‹é™ + é›²å±¤ä¸Šç§» |
| Hovering | 2-2.5s | AI é¸æ“‡ "hovering" | æ‡¸åœæµ®å‹• + ç›®çš„åœ°åç¨± |
| Ready | 2.5-3.5s | AI é¸æ“‡ "alert" | ç™¼å…‰è„ˆè¡ + "Ready!" |
| Transition | 3.5-4s | - | GlowBurst + åˆ‡æ› |

è¦–è¦ºæ•ˆæœï¼š
- âœ… TransformationBackground (ä¸Šç§»é€Ÿåº¦ç·š)
- âœ… GlowBurst ç™¼å…‰æ“´æ•£
- âœ… é›²å±¤å¾ä¸‹æ–¹é£›å…¥
- âœ… ç›®çš„åœ°èƒŒæ™¯

### 5.B.4 è¿”å›åŸºåœ°å¢å¼· (return-base.js)

**å‹•ç•«åºåˆ—** (ç´„ 9.5 ç§’):
| éšæ®µ | æ™‚é–“ | åœ–ç‰‡ | æ•ˆæœ |
|------|------|------|------|
| Celebrating | 0-2s | AI é¸æ“‡ "celebrating" | å½©å¸¶ç²’å­ + æ¨™é¡Œ |
| Reverse Transform | 2-4.5s | transform_frames (åå‘) | GlowBurst + æ—‹è½‰ |
| Takeoff | 4.5-6s | AI é¸æ“‡ "takeoff" | ä¸Šå‡ + åœ°é¢ä¸‹ç§» |
| Flying | 6-8s | AI é¸æ“‡ "flying" | ç©©å®šé£›è¡Œ + é›²å±¤ |
| Landing | 8-9.5s | AI é¸æ“‡ "landing" | ä¸‹é™ + åœ°é¢ä¸Šå‡ |

è¦–è¦ºæ•ˆæœï¼š
- âœ… Confetti å½©å¸¶ç²’å­
- âœ… TransformationBackground
- âœ… GlowBurst ç™¼å…‰æ“´æ•£
- âœ… åå‘è®Šèº«å¹€å‹•ç•«
- âœ… é›²å±¤ parallax
- âœ… åœ°é¢/è·‘é“

### 5.B.5 æ–°å¢éŸ³æ•ˆ

**æª”æ¡ˆ**: `js/core/audio-manager.js`

| éŸ³æ•ˆåç¨± | ç”¨é€” |
|----------|------|
| arrival | é™è½é€²å ´ |
| transform_ready | æº–å‚™è®Šèº«å……èƒ½ |
| mission_complete | ä»»å‹™å®Œæˆå‹åˆ© |

### 5.B.6 å¯¦ä½œç‹€æ…‹

| é …ç›® | ç‹€æ…‹ |
|------|------|
| AI åœ–ç‰‡é¸æ“‡æœå‹™ | âœ… å®Œæˆ |
| èµ·é£›å‹•ç•«å¢å¼· | âœ… å®Œæˆ |
| é™è½å‹•ç•«ç•«é¢ | âœ… å®Œæˆ |
| è¿”å›åŸºåœ°å¢å¼· | âœ… å®Œæˆ |
| main.js æµç¨‹æ•´åˆ | âœ… å®Œæˆ |
| æ–°å¢éŸ³æ•ˆ | âœ… å®Œæˆ |

### äº¤ä»˜ç‰©
- âœ… `js/core/image-selector-service.js` - AI åœ–ç‰‡é¸æ“‡æœå‹™
- âœ… `js/ui/screens/arrival.js` - æ–°çš„é™è½å‹•ç•«ç•«é¢
- âœ… å¢å¼·ç‰ˆ `js/ui/screens/launch.js`
- âœ… å¢å¼·ç‰ˆ `js/ui/screens/return-base.js`
- âœ… æ›´æ–° `js/main.js` æµç¨‹è·¯ç”±
- âœ… æ–°å¢éŸ³æ•ˆ (arrival, transform_ready, mission_complete)
